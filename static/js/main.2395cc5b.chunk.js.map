{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Searchbar/Searchbar.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/services/film-api.js","App.js","index.js"],"names":["ImageGalleryItem","pictures","onClick","map","id","webformatURL","largeImageURL","tags","className","src","alt","ImageGallery","Searchbar","state","request","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","requestSubmit","onSubmit","this","type","onChange","autoComplete","autoFocus","placeholder","Component","prtpTypes","PropTypes","string","Button","style","marginTop","display","justifyContent","window","scrollTo","top","document","documentElement","scrollHeight","behavior","OnLoader","color","height","width","timeout","Modal","handleKeyDown","code","onClose","onBackdropClick","target","addEventListener","removeEventListener","children","API_KEY","FetchFilmApi","curPage","axios","get","App","showModal","bigImageUrl","status","currPage","handleFormSubmit","fetchImages","isLoading","then","response","filteredData","data","hits","picture","prevState","finally","loading","onImageClick","url","toggleModal","onImageLoaded","prevProps","showButton","length","onLoad","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2395cc5b.chunk.js","sourcesContent":["const ImageGalleryItem = ({ pictures, onClick }) => {\n  return pictures.map(({ id, webformatURL, largeImageURL, tags }) => {\n    return (\n      <li className=\"ImageGalleryItem\" key={id}>\n        <img\n          onClick={() => onClick(largeImageURL)}\n          src={webformatURL}\n          alt={tags}\n          className=\"ImageGalleryItem-image\"\n        />\n      </li>\n    );\n  });\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from '../ImageGalleryItem';\n\nconst ImageGallery = ({ pictures, onClick }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      <ImageGalleryItem pictures={pictures} onClick={onClick} />\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\n\nimport { Component } from 'react';\n\nexport default class Searchbar extends Component {\n  static prtpTypes = {\n    request: PropTypes.string,\n  };\n\n  state = {\n    request: '',\n  };\n\n  handleNameChange = event => {\n    this.setState({ request: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.request.trim() === '') {\n      // toast('Please add  Request.');\n      return;\n    }\n\n    this.props.requestSubmit(this.state.request);\n    this.setState({ request: '' });\n  };\n\n  render() {\n    return (\n      <div>\n        <header className=\"Searchbar\">\n          <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n            <button type=\"submit\" className=\"SearchForm-button\">\n              <span className=\"SearchForm-button-label\">Search</span>\n            </button>\n\n            <input\n              className=\"SearchForm-input\"\n              value={this.state.request}\n              onChange={this.handleNameChange}\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n            />\n          </form>\n        </header>\n      </div>\n    );\n  }\n}\n","const Button = ({ onClick }) => {\n  return (\n    <div style={{ marginTop: 10, display: 'flex', justifyContent: 'center' }}>\n      <button type=\"submit\" className=\"Button\" onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n\nwindow.scrollTo({\n  top: document.documentElement.scrollHeight,\n  behavior: 'smooth',\n});\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\n\nexport default function OnLoader() {\n  return (\n    <Loader\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000}\n    />\n  );\n}\n","import { Component } from 'react';\nimport './Modal.css';\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  onBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"Overlay\" onClick={this.onBackdropClick}>\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import axios from 'axios';\n\nconst API_KEY = '21940108-061a720ebe354b15c34ff51f3';\n\nconst FetchFilmApi = (request, curPage = 1) => {\n  return axios.get(\n    `https://pixabay.com/api/?q=${request}&page=${curPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n};\n\nexport default FetchFilmApi;\n","import './App.css';\nimport { Component } from 'react';\nimport ImageGallery from './components/ImageGallery';\nimport Searchbar from './components/Searchbar';\nimport Button from './components/Button';\nimport Loader from './components/Loader';\nimport Modal from './components/Modal';\nimport FetchFilmApi from './components/services/film-api';\n\nclass App extends Component {\n  state = {\n    request: '',\n    pictures: [],\n    showModal: false,\n    bigImageUrl: '',\n    status: 'loading',\n    currPage: 1,\n  };\n\n  handleFormSubmit = request => {\n    this.setState({ request, pictures: [], currPage: 1 });\n  };\n\n  fetchImages = () => {\n    const { currPage, request } = this.state;\n\n    this.setState({ isLoading: true });\n\n    FetchFilmApi(request, currPage)\n      .then(response => {\n        const filteredData = response.data.hits.map(picture => {\n          return {\n            id: picture.id,\n            webformatURL: picture.webformatURL,\n            largeImageURL: picture.largeImageURL,\n            tags: picture.tags,\n          };\n        });\n\n        this.setState(prevState => ({\n          pictures: [...prevState.pictures, ...filteredData],\n          currPage: prevState.currPage + 1,\n        }));\n      })\n      .finally(() => {\n        if (this.state.currPage > 2) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n        return this.setState({ loading: false });\n      });\n  };\n\n  onImageClick = url => {\n    this.setState({ bigImageUrl: url });\n    this.toggleModal();\n    this.setState({ status: 'loading' });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onImageLoaded = () => {\n    this.setState({ status: 'loaded' });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.request !== this.state.request) {\n      this.fetchImages();\n    }\n  }\n\n  render() {\n    const { pictures, showModal, loading, bigImageUrl, status } = this.state;\n\n    const showButton = pictures.length > 0 && !loading;\n    return (\n      <>\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            {status === 'loading' && <Loader />}\n            <img src={bigImageUrl} alt=\"\" onLoad={this.onImageLoaded} />\n          </Modal>\n        )}\n\n        <Searchbar requestSubmit={this.handleFormSubmit} />\n        <ImageGallery pictures={pictures} onClick={this.onImageClick} />\n        {showButton && <Button onClick={this.fetchImages} loading={loading} />}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}